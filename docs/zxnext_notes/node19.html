<!DOCTYPE HTML>

<!--Converted with LaTeX2HTML 2020.2 (Released July 1, 2020) -->
<HTML lang="en">
<HEAD>
<TITLE>Emulation</TITLE>
<META NAME="description" CONTENT="Emulation">
<META NAME="keywords" CONTENT="zxnext_notes">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="viewport" CONTENT="width=device-width, initial-scale=1.0">
<META NAME="Generator" CONTENT="LaTeX2HTML v2020.2">

<LINK REL="STYLESHEET" HREF="zxnext_notes.css">

<LINK REL="next" HREF="node20.html">
<LINK REL="previous" HREF="node18.html">
<LINK REL="next" HREF="node20.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A
 HREF="node20.html">
<IMG WIDTH="37" HEIGHT="24" ALT="next" SRC="next.png"></A> 
<A
 HREF="node14.html">
<IMG WIDTH="26" HEIGHT="24" ALT="up" SRC="up.png"></A> 
<A
 HREF="node18.html">
<IMG WIDTH="63" HEIGHT="24" ALT="previous" SRC="prev.png"></A> 
<A ID="tex2html543"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALT="contents" SRC="contents.png"></A> 
<A ID="tex2html545"
  HREF="node234.html">
<IMG WIDTH="43" HEIGHT="24" ALT="index" SRC="index.png"></A> 
<BR>
<B> Next:</B> <A
 HREF="node20.html">Palette file format</A>
<B> Up:</B> <A
 HREF="node14.html">ULAplus</A>
<B> Previous:</B> <A
 HREF="node18.html">Limitations</A>
 &nbsp; <B>  <A ID="tex2html544"
  HREF="node1.html">Contents</A></B> 
 &nbsp; <B>  <A ID="tex2html546"
  HREF="node234.html">Index</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H5><A ID="SECTION00321035000000000000">
Emulation</A>
</H5>
The 64 colour mode lookup table is organized as 4 palettes of 16
colours.

<P>
Bits 7 and 6 of each Spectrum attribute byte (normally used for FLASH
and BRIGHT) will be used as an index value (0-3) to select one of the
four colour palettes.

<P>
Each colour palette has 16 entries (8 for INK, 8 for PAPER). Bits 0 to
2 (INK) and 3 to 5 (PAPER) of the attribute byte will be used as
indexes to retrieve colour data from the selected palette.

<P>
With the standard Spectrum display, the BORDER colour is the same as
the PAPER colour in the first CLUT. For example BORDER 0 would set the
border to the same colour as PAPER 0 (with the BRIGHT and FLASH bits
not set).

<P>
The complete index can be calculated as
<BR>
ink_colour = (FLASH * 2 + BRIGHT) * 16 + INK
paper_colour = (FLASH * 2 + BRIGHT) * 16 + PAPER + 8

<P>
<BR><HR>

</BODY>
</HTML>
