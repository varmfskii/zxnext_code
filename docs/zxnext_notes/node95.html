<!DOCTYPE HTML>

<!--Converted with LaTeX2HTML 2020.2 (Released July 1, 2020) -->
<HTML lang="en">
<HEAD>
<TITLE>The DMA and Interrupts</TITLE>
<META NAME="description" CONTENT="The DMA and Interrupts">
<META NAME="keywords" CONTENT="zxnext_notes">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="viewport" CONTENT="width=device-width, initial-scale=1.0">
<META NAME="Generator" CONTENT="LaTeX2HTML v2020.2">

<LINK REL="STYLESHEET" HREF="zxnext_notes.css">

<LINK REL="previous" HREF="node94.html">
<LINK REL="next" HREF="node96.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A
 HREF="node96.html">
<IMG WIDTH="37" HEIGHT="24" ALT="next" SRC="next.png"></A> 
<A
 HREF="node86.html">
<IMG WIDTH="26" HEIGHT="24" ALT="up" SRC="up.png"></A> 
<A
 HREF="node94.html">
<IMG WIDTH="63" HEIGHT="24" ALT="previous" SRC="prev.png"></A> 
<A ID="tex2html914"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALT="contents" SRC="contents.png"></A> 
<A ID="tex2html916"
  HREF="node200.html">
<IMG WIDTH="43" HEIGHT="24" ALT="index" SRC="index.png"></A> 
<BR>
<B> Next:</B> <A
 HREF="node96.html">Programming examples</A>
<B> Up:</B> <A
 HREF="node86.html">zxnDMA Registers</A>
<B> Previous:</B> <A
 HREF="node94.html">Operating speed</A>
 &nbsp; <B>  <A ID="tex2html915"
  HREF="node1.html">Contents</A></B> 
 &nbsp; <B>  <A ID="tex2html917"
  HREF="node200.html">Index</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H4><A ID="SECTION00660090000000000000">
The DMA and Interrupts</A>
</H4>

<P>
The zxnDMA cannot currently generate interrupts.

<P>
The other side of this is that while the DMA controls the bus, the Z80
cannot respond to interrupts. On the Z80, the nmi interrupt is edge
triggered so if an nmi occurs the fact that it occurred is stored
internally in the Z80 so that it will respond when it is woken up. On
the other hand, maskable interrupts are level triggered. That is, the
Z80 must be active to regularly sample the /INT line to determine if a
maskable interrupt is occurring. On the Spectrum and the ZX Next, the
ULA (and line interrupt) are only asserted for a fixed amount of time
&nbsp;30 cycles at 3.5MHz. If the DMA is executing a transfer while the
interrupt is asserted, the CPU will not be able to see this and it
will most likely miss the interrupt. In burst mode, the CPU will never
miss these interrupts, although this may change if multiple channels
are implemented.

<P>
<BR><HR>

</BODY>
</HTML>
